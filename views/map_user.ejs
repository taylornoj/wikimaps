<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <title>My Maps</title>
  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
  <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
  <link rel="stylesheet" href="/styles/main.css" type="text/css" />
  <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
  <link rel="stylesheet" href="/styles/header.css" type="text/css" />
  <link rel="stylesheet" href="/styles/main-body.css" type="text/css" />

  <script src="https://kit.fontawesome.com/ea63d3f158.js" crossorigin="anonymous"></script>

  <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
  <script type="text/javascript" src="/scripts/app.js"></script>

</head>

<body>
    <main>
  <%- include('partials/_header') %>
      <div class="home-title">
        <h3>My Maps</h3>
      </div>
      <main style="display: flex; justify-content: space-around;">

      <div id="map-card1" >
        <div class="row">
          <div class="card" style="width: 18rem;">

            <div id="map1" style="width: 100%; height: 300px"></div>

            <div class="card-body">
              <h5 id="card-title1">Card title</h5>
              <p id="card-text1">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
              <div class="mapbuttons">
                <a href="#" class="btn btn-primary">Edit</a>

                <div class="heart-container">
                  <i onclick="Toggle()" id="btn" class="far fa-heart"></i>
                </div>
                <script>
                  let btn = document.getElementById('btn');

                  function Toggle() {
                    if (btn.classList.contains("far")) {
                      btn.classList.remove("far");
                      btn.classList.add("fas");
                    }
                  }
                </script>
                <a href="#" class="btn btn-danger">Delete</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="map-card2">
        <div class="row">
          <div class="card" style="width: 18rem;">

            <div id="map2" style="width: 100%; height: 300px"></div>

            <div class="card-body">
              <h5 id="card-title2">Card title</h5>
              <p id="card-text2">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
              <div class="mapbuttons">
                <a href="#" class="btn btn-primary">Edit</a>

                <div class="heart-container">
                  <i onclick="Toggle()" id="btn" class="far fa-heart"></i>
                </div>
                <script>
                  let btn = document.getElementById('btn');

                  function Toggle() {
                    if (btn.classList.contains("far")) {
                      btn.classList.remove("far");
                      btn.classList.add("fas");
                    }
                  }
                </script>

                <a href="#" class="btn btn-danger">Delete</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="map-card3">
        <div class="row">
          <div class="card" style="width: 18rem;">

            <div id="map3" style="width: 100%; height: 300px"></div>

            <div class="card-body">
              <h5 id="card-title3">Card title</h5>
              <p id="card-text3">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
              <div class="mapbuttons">
                <a href="#" class="btn btn-primary">Edit</a>

                <div class="heart-container">
                  <i onclick="Toggle()" id="btn" class="far fa-heart"></i>
                </div>
                <script>
                  let btn = document.getElementById('btn');

                  function Toggle() {
                    if (btn.classList.contains("far")) {
                      btn.classList.remove("far");
                      btn.classList.add("fas");
                    }
                  }
                </script>

                <a href="#" class="btn btn-danger">Delete</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="map-card4">
        <div class="row">
          <div class="card" style="width: 18rem;">

            <div id="map4" style="width: 100%; height: 300px"></div>

            <div class="card-body">
              <h5 id="card-title4">Card title</h5>
              <p id="card-text4">Some quick example text to build on the card title and make up the bulk of the card's
                content.</p>
              <div class="mapbuttons">
                <a href="#" class="btn btn-primary">Edit</a>

                <div class="heart-container">
                  <i onclick="Toggle()" id="btn" class="far fa-heart"></i>
                </div>
                <script>
                  let btn = document.getElementById('btn');

                  function Toggle() {
                    if (btn.classList.contains("far")) {
                      btn.classList.remove("far");
                      btn.classList.add("fas");
                    }
                  }
                </script>

                <a href="#" class="btn btn-danger">Delete</a>
              </div>
            </div>
          </div>
        </div>
      </div>


<script>
  function initMap() {

    const zoom = 5;
    let lat, lng;
    let title, description;
    let coordsMaps;
    let map;
    let mapID = 1;
    let cardTitleID = 'card-title';
    let cardTextID='card-text';
    let incrt = 0;
    <% if(maps.length < 2){ %>
      document.getElementById('map-card2').style.display = 'none';
      document.getElementById('map-card3').style.display = 'none';
      document.getElementById('map-card4').style.display = 'none';
    <% } %>
    <% if (maps.length < 3) { %>
      document.getElementById('map-card3').style.display = 'none';
      document.getElementById('map-card4').style.display = 'none';
    <% } %>
    <% if (maps.length < 4) { %>
      document.getElementById('map-card4').style.display = 'none';
    <% } %>

    lat = Number('<%= maps[0].latitude %>');
    lng = Number('<%= maps[0].longitude %>');
    coordsMaps = {
        zoom: zoom,
        center: { lat, lng }
      };
    map = new google.maps.Map(document.getElementById('map1'), coordsMaps);
    document.getElementById('card-title1').innerHTML = '<%= maps[0].title %>'
    document.getElementById('card-text1').innerHTML = '<%= maps[0].description %>'

    <% if (maps.length > 1) { %>
      lat = Number('<%= maps[1].latitude %>');
      lng = Number('<%= maps[1].longitude %>');
      coordsMaps = {
        zoom: zoom,
        center: { lat, lng }
      };
      map = new google.maps.Map(document.getElementById('map2'), coordsMaps);
      document.getElementById('card-title2').innerHTML = '<%= maps[1].title %>'
      document.getElementById('card-text2').innerHTML = '<%= maps[1].description %>'
    <% } %>

    <% if (maps.length > 2) { %>
      lat = Number('<%= maps[2].latitude %>');
      lng = Number('<%= maps[2].longitude %>');
      coordsMaps = {
        zoom: zoom,
        center: { lat, lng }
      };
      map = new google.maps.Map(document.getElementById('map3'), coordsMaps);
      document.getElementById('card-title3').innerHTML = '<%= maps[2].title %>'
      document.getElementById('card-text3').innerHTML = '<%= maps[2].description %>'
        <% } %>

    <% if (maps.length > 3) { %>
      lat = Number('<%= maps[3].latitude %>');
      lng = Number('<%= maps[3].longitude %>');
      coordsMaps = {
        zoom: zoom,
        center: { lat, lng }
      };
      map = new google.maps.Map(document.getElementById('map4'), coordsMaps);
      document.getElementById('card-title4').innerHTML = '<%= maps[3].title %>'
      document.getElementById('card-text4').innerHTML = '<%= maps[3].description %>'
        <% } %>

}
</script>

<!-- FINISH TEST API-->

</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=<%= process.env.API_KEY %>&callback=initMap">
</script>


</body>

</html>
